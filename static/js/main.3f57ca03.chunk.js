(this["webpackJsonpmarkdown-notes"]=this["webpackJsonpmarkdown-notes"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(6),a=n.n(i),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))},l=n(3);var u=function(e,t){var n=Object(r.useState)((function(){var n=window.localStorage.getItem(e);return n?JSON.parse(n):t})),o=Object(l.a)(n,2),i=o[0],a=o[1];return[i,function(t){a(t),window.localStorage.setItem(e,JSON.stringify(t))}]},f=n(7),h=n(2);function w(e){var t=e.children,n=e.onClick,r=e.className;return Object(h.jsx)("button",{className:r,onClick:n,children:t})}w.defaultProps={className:"btn"};var j=n(4);function b(e){var t=e.editorText,n=e.defaultGrid,o=e.darkEditorTheme,i=e.setEditorText,a=e.setDefaultGrid,c=e.setDarkEditorTheme,s=Object(r.useRef)(null);return Object(h.jsxs)(r.Fragment,{children:[Object(h.jsx)("input",{style:{display:"none"},type:"file",ref:s,onChange:function(e){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var t=e.target.files,n=new FileReader;n.onload=function(e){return i(e.target.result),!0},n.readAsText(t[0]),window.location.reload()}else alert("The File APIs are not fully supported in this browser.")},accept:".md,.mdown,.txt,.markdown"}),Object(h.jsxs)("header",{children:[Object(h.jsxs)(w,{onClick:function(){a(!n),window.location.reload()},children:[Object(h.jsx)(j.d,{}),"Change grid"]}),Object(h.jsxs)(w,{onClick:function(){c(!o)},children:[Object(h.jsx)(j.a,{}),"Change Editor Theme"]}),Object(h.jsxs)(w,{onClick:function(){s.current.click()},children:[Object(h.jsx)(j.c,{}),"Open File"]}),Object(h.jsxs)(w,{onClick:function(){var e=document.getElementsByTagName("h1")[0].innerText,n=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=e.trim()+".md",o.click(),URL.revokeObjectURL(r)},children:[Object(h.jsx)(j.b,{}),"Download"]})]})]})}var m=n(8);function v(e){var t=e.darkEditorTheme,n=e.editorText,r=e.setEditorText;return Object(h.jsx)(m.a,{theme:t?"vs-dark":"vs-light",defaultLanguage:"markdown",defaultValue:n,onChange:function(e){return r(e)}})}function g(e){var t=e.markedText,n=Object(r.useState)(window.outerWidth),o=Object(l.a)(n,2),i=o[0],a=o[1];return window.addEventListener("resize",(function(){return a(window.outerWidth)})),Object(r.useEffect)((function(){var e=i>=768?90:30;Array.from(document.querySelectorAll("pre")).forEach((function(t){t.style.maxWidth="".concat((i-e)/2,"px")}))}),[t,i]),Object(r.useEffect)((function(){Array.from(document.querySelectorAll("pre")).forEach((function(e){var t=function(){return n.classList.toggle("visible-copy-button")},n=document.createElement("button");n.classList.add("copy-button"),n.innerText="Copy",e.appendChild(n),e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",t),n.addEventListener("click",(function(){return function(e){var t=e.slice(0,e.length-6);navigator.clipboard.writeText(t)}(e.innerText)}))}))}),[t]),Object(h.jsx)("section",{className:"markdown-body",dangerouslySetInnerHTML:{__html:t}})}n(16);function x(){var e=u("editorText",""),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),a=Object(l.a)(i,2),c=a[0],s=a[1],d=u("darkEditorTheme",!0),w=Object(l.a)(d,2),j=w[0],m=w[1],x=u("defaultGrid",!0),k=Object(l.a)(x,2),O=k[0],p=k[1];return Object(r.useEffect)((function(){return s(f.marked.parse(n))}),[n]),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(b,{editorText:n,defaultGrid:O,darkEditorTheme:j,setEditorText:o,setDefaultGrid:p,setDarkEditorTheme:m}),Object(h.jsxs)("main",{className:O?"horizontal-grid":"vertical-grid",children:[Object(h.jsx)(v,{darkEditorTheme:j,editorText:n,setEditorText:o}),Object(h.jsx)(g,{markedText:c})]})]})}n(17);a.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/markdown-notes",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/markdown-notes","/service-worker.js");c?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):s(t,e)}))}}(),d()}},[[18,1,2]]]);
//# sourceMappingURL=main.3f57ca03.chunk.js.map